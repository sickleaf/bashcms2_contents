---
articleTitle: お笑いナタリーの年末年始のお笑い芸人出演番組情報の芸人出演ランキング（○○するシェル芸ちゃん_24日目）
Keywords: ○○するシェル芸ちゃん, bash, シェル芸
Copyright: (C) 2022 sickleaf
---


<br>

[○○するシェル芸ちゃん](../../?page=advent_shellgeichan)アドベントカレンダーの24日目です。
<br><br>

芸能関係で一番信用できるメディアと言えば、お笑いナタリーとオリコンニュース。（独断）

今回、お笑いナタリーで年末に出てくる記事に関するお題です。

## 問題

```
お笑いナタリーの「2021年の年末年始のお笑い芸人出演番組情報（全国ネット＆関東版）」に挙がっている番組の出演者情報を集計し、ランキングを作成して下さい。
https://natalie.mu/owarai/news/459736
```

[ページ](https://natalie.mu/owarai/news/459736)に飛んで頂くと分かる通り、年末年始の各番組のタイトル、放送局・放送時間、出演する芸人が1セットで載っています。

出演者が多い特番はスラッシュ区切りで記述されていますが、それらも集計します。

## 回答方針

まずは`curl`でデータを取得します。

`curl -s https://natalie.mu/owarai/news/459736 > a `

ここから番組出演情報の芸人情報だけに絞って集計します。

### 出演者ブロックを抜粋する

年末年始の番組だけでなく、最新ニュースやアクセスランキングなどのブロックにも芸人の名前が並んでいるため、拾わないように不要なブロックはカットする必要があります。

掲載されている番組の一番最後が「オードリーのNFL倶楽部」で、その後は関連記事が続きます。

記事部分のクラス名(`NA_article_body`)から、境目にあたる関連記事の部分に適用されているクラス名(`GAE_relatedNews`)の範囲まで抜き出します。

```
$ cat a | sed -n "/NA_article_body/,/GAE_relatedNews/p" 
                    <div class="NA_article_body">
                                                                            <p>お笑いナタリーより、年末年始にお笑い芸人が出演する、おもなバラエティ番組（全国ネット＆関東版）をお知らせいたします。別途、<a href="https://natalie.mu/owarai/news/459779" target="_blank">関西版</a>もあります。</p>



                                                <h2 id="NA_article_main_h2_1">2021年12月29日（水）</h2><h3 id="NA_article_main_h3_1">年越しまでに知りたい！プロ野球の大ギモンSP</h3><p>日本テレビ系 8:00～9:00<br>ロングアイランド松原<br><a href="https://www.ntv.co.jp/program/detail/?programid=20212455" target="_blank">公式サイト</a></p>
（以下略）
```

### 出演者情報のみの行にする

先ほど出力結果を見てみると分かりますが、記事の中身が1行に圧縮されています。

改行として解釈される`<br>`や、出演者情報の出力エリアの区切りである`</p>`を改行に置き換えて中身を眺めてみましょう。便宜上、`nl`で行数を出力しています。

```
$ cat a | sed -n "/NA_article_body/,/GAE_relatedNews/p" | sed -r "s;<br>|</p>;\n;g" | nl
     1                      <div class="NA_article_body">
     2                                                                              <p>お笑いナタリーより、年末年始にお笑い芸人が出演する、おもなバラエティ番組（全国ネット＆関東版）をお知らせいたします。別途、<a href="https://natalie.mu/owarai/news/459779" target="_blank">関西版</a>もあります。

     3
     4
     5
     6                                                  <h2 id="NA_article_main_h2_1">2021年12月29日（水）</h2><h3 id="NA_article_main_h3_1">年越しまでに知りたい！プロ野球の大ギモンSP</h3><p>日本テレビ系 8:00～9:00
     7  ロングアイランド松原
     8  <a href="https://www.ntv.co.jp/program/detail/?programid=20212455" target="_blank">公式サイト</a>
     9  <h3 id="NA_article_main_h3_2">クイズ！カムカムエヴリバディ～ラジオと英語と日本人～</h3><p>NHK総合 9:00～9:45
    10  キャイ～ン ほか
    11  <a href="https://www.nhk.or.jp/comecome/information/details/info_20211126_a.html" target="_blank">公式サイト</a>
    12  <h3 id="NA_article_main_h3_3">診療中！こどもネタクリニック</h3><p>NHK Eテレ 9:00～9:30
    13  よゐこ濱口 / パンサー向井 / すゑひろがりず / 四千頭身 / 小島よしお / テツandトモ ほか
    14  <a href="https://www.nhk.jp/p/ts/MXR5LW3QV7/" target="_blank">公式サイト</a>
    15  関連記事：<a href="https://natalie.mu/owarai/news/458875" target="_blank">すゑ＆四千頭身が「こどもネタクリニック」で治療、都築「度肝抜かれる指摘」</a>
    16  <h3 id="NA_article_main_h3_4">有吉の壁 今夜6時年末3時間SP！聖地熱海で大爆笑修学旅行！の前に懐かしの壁</h3><p>日本テレビ系 9:00～10:30
    17  有吉弘行 ほか
    18  <a href="https://www.ntv.co.jp/ariyoshinokabe/" target="_blank">公式サイト</a>
    19  <h3 id="NA_article_main_h3_5">みんなでBINGOLF“年末スペシャル”</h3><p>テレビ東京 9:00～10:30
    20  ますだおかだ岡田 / オリエンタルラジオ藤森 ほか
（以下略）
```

都合良いことに、出演者情報が各行の頭に来ました。

#### 抜粋方針

出演者情報の行だけ拾うか、不要な行をカットするかどちらかが必要です。前者の場合、例えばスラッシュのある行や、「ほか」がある行などそれっぽい目印がありますが、いずれも出演者が1人だけの場合には使えないので難しそうです。

ということで、不要な行をカットしていきます。

#### 不要な番組情報

出演者の行の前に、「日本テレビ系 8:00～9:00」というように放送局と放送時間が含まれていますが、この情報は不要です。

放送局を列挙するのは難しいため、hh:mm形式の表示を弾きましょう。

放送時間が朝早い場合はhhが1桁になるため、確実に含まれているのは`h:mm`です。

正規表現`:[0-9][0-9]`でマッチすれば良いでしょう。。

```
$ cat a | sed -n "/NA_article_body/,/GAE_relatedNews/p" | sed -r "s;<br>|</p>;\n;g" | grep -E ":[0-9][0-9]"
                                                <h2 id="NA_article_main_h2_1">2021年12月29日（水）</h2><h3 id="NA_article_main_h3_1">年越しまでに知りたい！プロ野球の大ギモンSP</h3><p>日本テレビ系 8:00～9:00
<h3 id="NA_article_main_h3_2">クイズ！カムカムエヴリバディ～ラジオと英語と日本人～</h3><p>NHK総合 9:00～9:45
<h3 id="NA_article_main_h3_3">診療中！こどもネタクリニック</h3><p>NHK Eテレ 9:00～9:30
<h3 id="NA_article_main_h3_4">有吉の壁 今夜6時年末3時間SP！聖地熱海で大爆笑修学旅行！の前に懐かしの壁</h3><p>日本テレビ系 9:00～10:30
<h3 id="NA_article_main_h3_5">みんなでBINGOLF“年末スペシャル”</h3><p>テレビ東京 9:00～10:30
<h3 id="NA_article_main_h3_6">ノンストップ</h3><p>フジテレビ系 9:50～11:25
<h3 id="NA_article_main_h3_7">一樹と和樹～なかよしおじさん2021 振り返りドライブ～</h3><p>テレビ愛知・テレビ東京系 10:30～11:30
<h3 id="NA_article_main_h3_8">プロ野球！クセ強ベストナイン すげぇ人来ちゃったよSP</h3><p>テレビ東京 11:30～12:55
<h3 id="NA_article_main_h3_9">ウチの店買って下さい!!</h3><p>フジテレビ系 11:55～13:30
<h3 id="NA_article_main_h3_10">笑福亭仁鶴と訪ねる大阪の笑い100年</h3><p>NHK総合 12:15～12:58
（以下略）
```

`grep -v`により取捨選択を反転させてカットします。

#### その他不要な行

```
$ cat a | sed -n "/NA_article_body/,/GAE_relatedNews/p" | sed -r "s;<br>|</p>;\n;g" | grep -vE ":[0-9][0-9]"
                    <div class="NA_article_body">
                                                                            <p>お笑いナタリーより、年末年始にお笑い芸人が出演する、おもなバラエティ番組（全国ネット＆関東版）をお知らせいたします。別途、<a href="https://natalie.mu/owarai/news/459779" target="_blank">関西版</a>もあります。




ロングアイランド松原
<a href="https://www.ntv.co.jp/program/detail/?programid=20212455" target="_blank">公式サイト</a>
キャイ～ン ほか
<a href="https://www.nhk.or.jp/comecome/information/details/info_20211126_a.html" target="_blank">公式サイト</a>
よゐこ濱口 / パンサー向井 / すゑひろがりず / 四千頭身 / 小島よしお / テツandトモ ほか
<a href="https://www.nhk.jp/p/ts/MXR5LW3QV7/" target="_blank">公式サイト</a>
関連記事：<a href="https://natalie.mu/owarai/news/458875" target="_blank">すゑ＆四千頭身が「こどもネタクリニック」で治療、都築「度肝抜かれる指摘」</a>
有吉弘行 ほか
<a href="https://www.ntv.co.jp/ariyoshinokabe/" target="_blank">公式サイト</a>
ますだおかだ岡田 / オリエンタルラジオ藤森 ほか
（以下略）
```

リンクや関連記事、空行は関係ないためカットしましょう。リンクなどあるものは開始タグ`<`、空行は`^ *$`でカットします。

```
$ cat a | sed -n "/NA_article_body/,/GAE_relatedNews/p" | sed -r "s;<br>|</p>;\n;g" | grep -vE "<|^ *$|:[0-9][0-9]"
ロングアイランド松原
キャイ～ン ほか
よゐこ濱口 / パンサー向井 / すゑひろがりず / 四千頭身 / 小島よしお / テツandトモ ほか
有吉弘行 ほか
ますだおかだ岡田 / オリエンタルラジオ藤森 ほか
バナナマン設楽 / 北陽・虻川 ほか
さまぁ～ず大竹 / ずん飯尾 / オリエンタルラジオ藤森 / 吉住 / スパローズ大和 / うしろシティ阿諏訪 / 永野 ほか
さまぁ～ず三村 / 千鳥・大悟 / ティモンディ ほか
平成ノブシコブシ吉村 / 尼神インター渚 / 3時のヒロインかなで  ほか
桂春団治（初代） / 横山エンタツ・花菱アチャコ / 夢路いとし・喜味こいし / 中田ダイマル・ラケット / 横山ホットブラザーズ / 上方柳次・柳太 / 正司敏江・玲児 / 横山やすし・西川きよし / 今いくよ・くるよ / オール阪神・巨人 / 宮川大助・花子 / 上方よしお・西川のりお / ザ・ぼんち / 太平サブロー・シロー / ダウンタウン / トミーズ / ハイヒール / 中川家 / ますだおかだ / ブラックマヨネーズ / 麒麟 / かまいたち ほか
ロッチ・コカド / ドランクドラゴン鈴木 ほか
```

かなり良い感じになってきました。

### ランキングを作成

あとは各芸人ごとにばらして集計します。

集計するために、「ほか」の削除と前後のスペース含むスラッシュでの改行する加工を行います。

```
$ cat a | sed -n "/NA_article_body/,/GAE_relatedNews/p" | sed -r "s;<br>|</p>;\n;g" | grep -vE "<|^ *$|:[0-9][0-9]"  | sed "s; ほか;;g; s; / ;\n;g"
ロングアイランド松原
キャイ～ン
よゐこ濱口
パンサー向井
すゑひろがりず
四千頭身
小島よしお
テツandトモ
有吉弘行
ますだおかだ岡田
オリエンタルラジオ藤森
バナナマン設楽
北陽・虻川
さまぁ～ず大竹
ずん飯尾
オリエンタルラジオ藤森
吉住
（以下略）
```

ここからランキング作成はイディオムみたいなものなので一気に書きます。

`sort | uniq -c | sort -k1,1nr`で作成できます。

集計用にsortし、重複数をカウントしつつ並べ、重複数の順に並べています。

```
$ cat a | sed -n "/NA_article_body/,/GAE_relatedNews/p" | sed -r "s;<br>|</p>;\n;g" | grep -vE "<|^ *$|:[0-9][0-9]"  | sed "s; ほか;;g; s; / ;\n;g" | sort | uniq -c | sort -k1,1nr
     15 チョコレートプラネット
     13 出川哲朗
     12 ニューヨーク
     12 マヂカルラブリー
     11 かまいたち
     11 ずん飯尾
     11 ぺこぱ
     11 アンガールズ田中
     11 サンドウィッチマン
     11 ヒコロヒー
     11 蛙亭
     11 内村光良
     10 いとうあさこ
     10 バカリズム
     10 バナナマン
     10 錦鯉
      9 空気階段
      9 平成ノブシコブシ吉村
      8 メイプル超合金カズレーザー
      8 劇団ひとり
      8 見取り図
      8 霜降り明星
      8 麒麟・川島
      7 3時のヒロイン
      7 ザ・マミィ
      7 ナインティナイン
      7 フワちゃん
      7 千鳥
      7 野性爆弾くっきー！
      7 有吉弘行
      6 EXIT
      6 かが屋
      6 とにかく明るい安村
      6 ゆりやんレトリィバァ
      6 オードリー春日
      6 サバンナ高橋
      6 ナイツ
      6 ハナコ
      6 ロッチ
      6 阿佐ヶ谷姉妹
      6 銀シャリ
      6 四千頭身
      6 狩野英孝
      6 笑福亭鶴瓶
      5 おいでやす小田
      5 オズワルド
      5 ジェラードン
      5 タイムマシーン3号
      5 ティモンディ
      5 ハライチ岩井
      5 ハリセンボン春菜
      5 バイきんぐ
      5 パンサー向井
      5 ミキ
      5 レインボー
      5 小島よしお
      5 陣内智則
      5 東京03
      5 爆笑問題
      4 TOKYO COOL
      4 あばれる君
      4 さらば青春の光
      4 さらば青春の光・森田
      4 すゑひろがりず
      4 わらふぢなるお
      4 アインシュタイン
      4 アルコ＆ピース
      4 インパルス板倉
      4 オードリー
      4 カミナリ
      4 キャイ～ン・ウド鈴木
      4 ココリコ田中
      4 ジャルジャル
      4 ジャングルポケット
      4 ハリウッドザコシショウ
      4 バイきんぐ小峠
      4 パンサー尾形
      4 フットボールアワー後藤
      4 ラランド・サーヤ
      4 レイザーラモンRG
      4 ロッチ中岡
      4 永野
      4 吉住
      4 宮下草薙
      4 宮川大輔
      4 今田耕司
      4 三四郎
      4 春風亭昇太
      4 松村邦洋
      4 清水ミチコ
      4 千原ジュニア
      4 霜降り明星せいや
      4 土田晃之
      4 島田珠代
      4 東京ホテイソン
      4 南海キャンディーズ山里
      4 明石家さんま
      4 友近
      3 3時のヒロイン福田
      3 ANZEN漫才みやぞん
      3 Aマッソ
      3 COWCOW
      3 Mr.シャチホコ
      3 おぎやはぎ
      3 さまぁ～ず三村
      3 とろサーモン久保田
      3 どぶろっく
      3 ますだおかだ岡田
      3 みかん
      3 もう中学生
      3 アルコ＆ピース平子
      3 アンガールズ
      3 アンタッチャブル柴田
      3 イワイガワ・岩井ジョニ男
      3 オリエンタルラジオ藤森
      3 ケンドーコバヤシ
      3 シソンヌ
      3 シソンヌじろう
      3 トレンディエンジェル
      3 ドランクドラゴン塚地
      3 ネプチューン堀内
      3 ネルソンズ
      3 ハライチ
      3 ハライチ澤部
      3 バナナマン設楽
      3 ビビる大木
      3 ブラックマヨネーズ小杉
      3 ミルクボーイ
      3 ランジャタイ
      3 ロバート秋山
      3 伊集院光
      3 金の国
      3 原口あきまさ
      3 古賀シュウ
      3 沙羅
      3 小籔千豊
      3 神奈月
      3 千鳥・大悟
      3 大久保佳代子
      3 男性ブランコ
      3 中川家
      3 土佐兄弟
      3 東貴博
      3 林家三平
      2 Aマッソ加納
      2 Everybody
      2 JP
      2 NON STYLE
      2 TATSUYA
      2 U字工事
      2 ZAZY
      2 sa'Toshl
      2 あいかわい翔
      2 あしべ
      2 あんも直想子
      2 おいでやすこが
      2 おかずクラブ
      2 おぎやはぎ小木
      2 おぎやはぎ矢作
      2 おしんこきゅう藤原
      2 おぼん・こぼん
      2 きくりん
      2 きつね
      2 こにわ
      2 さまぁ～ず
      2 しずる
      2 すっちー
      2 そいつどいつ
      2 ななみなな
      2 ねんねん
      2 ぺよん潤
      2 ぼる塾
      2 ぼる塾・田辺
      2 ぼる塾きりや
      2 まーな
      2 ますだおかだ
      2 まねだ聖子
      2 みはる
      2 むらせ
      2 やす子
      2 よしえつねお
      2 よゐこ濱口
      2 りんごちゃん
      2 アイデンティティ田島
      2 アイロンヘッド
      2 アインシュタイン稲田
      2 アンジャッシュ児嶋
      2 アンタッチャブル
      2 アンタッチャブル山崎
      2 イモトアヤコ
      2 インディアンス
      2 エルフ荒川
      2 オール阪神・巨人
      2 オジンオズボーン篠宮
      2 オダウエダ
      2 オットリー春日
      2 カンニング竹山
      2 ガリベンズ矢野
      2 ガンバレルーヤ
      2 コージー冨田
      2 コウテイ
      2 コロコロチキチキペッパーズ
      2 ゴジーラ久山
      2 サンシャイン池崎
      2 ジャッキーちゃん
      2 ジョーク東郷
      2 ジョイマン
      2 スギちゃん
      2 ゾフィー
      2 タカアンドトシ
      2 ダイアン
      2 ダイアン津田
      2 ダウンタウン
      2 ダンシング☆谷村
      2 チャボ＆飛鳶
      2 テツandトモ
      2 デコピン浜ちゃん
      2 トニーフランク
      2 トム・ブラウン
      2 トラチャン
      2 ナインティナイン岡村
      2 ノブ＆フッキー
      2 パーパー
      2 パニーニ
      2 パンサー
      2 ビューティーこくぶ
      2 プラス・マイナス兼光
      2 ホリ
      2 ミキ昴生
      2 ミラクルひかる
      2 モリタク！
      2 ラパルフェ都留
      2 ロバート
      2 ワタリ119
      2 一木ひろし
      2 横山アッチ（石川不遼）
      2 岡野陽一
      2 加島ちかえ
      2 加藤浩次
      2 河口こうへい
      2 花香よしあき
      2 蛾野正洋
      2 蛙亭イワクラ
      2 桂文枝
      2 桂文珍
      2 蛍原徹
      2 喉押さえマン
      2 紅チカコ
      2 今別府直之
      2 四千頭身・後藤
      2 四千頭身・石橋
      2 四千頭身・都築
      2 次長課長・河本
      2 酒井藍
      2 小坂なおみ
      2 小林ゆう
      2 松浦航大
      2 松浦真也
      2 笑い飯
      2 笑い飯・西田
      2 森三中
      2 杉野ひろし
      2 清水たぁー
      2 千鳥ノブ
      2 川畑泰史
      2 大納言光子
      2 中垣みな
      2 椿鬼奴
      2 天才ピアニストますみ
      2 天竺鼠・瀬下
      2 東京03飯塚
      2 南海キャンディーズ
      2 南原清隆
      2 馬場園梓
      2 博多華丸・大吉
      2 八木良
      2 片桐仁
      2 木村たいぞう
      2 和牛
      2 翔子
      1  ZAZY
      1 2丁拳銃・川谷
      1 3時のヒロイン・福田
      1 3時のヒロインかなで
      1 3時のヒロインゆめっち
      1 5GAP
      1 AMEMIYA
      1 FUJIWARA
      1 FUJIWARA藤本
      1 GAG
      1 Mr.オクレ
      1 NON STYLE井上
      1 R藤本
      1 TAIGA
      1 THE GREATEST HITS
      1 THIS IS パン
      1 TIM
      1 TKO木本
      1 ＜出演者＞
      1 Ｕ字工事
      1 Ｗエンジン
      1 あっぱれ婦人会
      1 うしろシティ阿諏訪
      1 うるとらブギーズ
      1 おかずクラブ・ オカリナ
      1 おばたのお兄さん
      1 かが屋・加賀
      1 かじがや卓哉
      1 かもめんたる
      1 ぐりんぴーす
      1 さくらだモンスター
      1 さまぁ～ず大竹
      1 しゃもじ
      1 じゅんいちダビッドソン
      1 すゑひろがりず三島
      1 ずん
      1 たつろう
      1 たむらけんじ
      1 たんぽぽ川村
      1 とりあえず夏海
      1 とろサーモン
      1 とんねるず
      1 どみっしゅ
      1 なすなかにし
      1 ななまがり
      1 ねこ屋敷
      1 ぱーてぃーちゃん
      1 ひょっこりはん
      1 ぴろき
      1 ぼる塾あんり
      1 ぼる塾あんり/  おいでやす小田
      1 ぽんぽこ
      1 まんじゅう大帝国
      1 みなみかわ
      1 みんなのたかみち
      1 もりすけ
      1 もりやすバンバンビガロ
      1 やさしいズ
      1 ゆにばーす
      1 ゆめちゃん
      1 アイデンティティ
      1 アキナ
      1 アキナ山名
      1 アメリカザリガニ
      1 アルミカン
      1 アンガールズ山根
      1 インスタントジョンソン
      1 インポッシブル
      1 インポッシブルひるちゃん
      1 ウエスP
      1 ウエストランド
      1 エイトブリッジ
      1 エスファイブ
      1 エレキコミックやつい
      1 オードリー若林
      1 オオシロ大魔神
      1 オズワルド伊藤
      1 オドるキネマ
      1 カカロニ
      1 カベポスター
      1 キャイ～ン
      1 キュウ
      1 クールポコ。
      1 クマムシ
      1 クロスバー直撃
      1 ココリコ
      1 コットン
      1 コットン西村
      1 コマンダンテ
      1 コロコロチキチキペッパーズ・ナダル
      1 ゴリけん
      1 サバンナ
      1 サルベース
      1 ザ・ぼんち
      1 ザ・ドリフターズ
      1 ザ・マミィ酒井
      1 シマッシュレコード
      1 ジャングルポケット斉藤
      1 ジャングルポケット太田
      1 スクールゾーン
      1 スナフキンズ
      1 スパイク
      1 スパローズ大和
      1 スピードワゴン
      1 スピードワゴン井戸田
      1 セルライトスパ
      1 タイムマシーン3号・山本
      1 タモリ
      1 ダウンタウン浜田
      1 ダチョウ倶楽部
      1 ダチョウ倶楽部・寺門ジモン
      1 ダチョウ倶楽部・上島
      1 ダブルアート
      1 チェリー大作戦
      1 チカトプライド
      1 チキチキジョニー
      1 チャンス大城
      1 チュートリアル
      1 チョコンヌ
      1 チョコンヌ（チョコレートプラネット＆シソンヌ）
      1 デンジャラス・ノッチ
      1 デンジャラス安田
      1 トータルテンボス藤田
      1 トミーズ
      1 トム・ブラウンみちお
      1 トンツカタン
      1 ドランクドラゴン鈴木
      1 ナイツ塙
      1 ニッポンの社長
      1 ニュートンズ
      1 ネゴシックス
      1 ネプチューン
      1 ハイヒール
      1 ハナイチゴ
      1 ハナコ岡部
      1 ハナコ菊田
      1 ハマカーン
      1 ハリセンボン
      1 バイきんぐ西村
      1 バイク川崎バイク
      1 バッドナイス常田
      1 バッファロー吾郎A
      1 バナナマン日村
      1 バンビーノ
      1 パーパー・ほしのディスコ
      1 パックンマックン・パックン
      1 パペットマペット
      1 パルテノンモード
      1 パンクブーブー
      1 ビスケットブラザーズ
      1 フォーリンラブ　ほか
      1 フォーリンラブ・バービー
      1 フタリシズカ
      1 フルーツポンチ村上
      1 ブラゴーリ
      1 ブラックマヨネーズ
      1 プラス・マイナス岩橋
      1 ペナルティ・ヒデ
      1 ボンざわーるど
      1 マキタスポーツ
      1 マギー司郎
      1 マヂカルラブリー・野田クリスタル
      1 マツモトクラブ
      1 マリーマリー
      1 マリア・イーちゃん
      1 マリアのイーちゃん
      1 ミクミクサイダー
      1 ミサイルマン岩部
      1 ミルクボーイ駒場
      1 メイプル超合金・安藤なつ
      1 メンバー
      1 モグライダー
      1 モンスターエンジン
      1 ユウキロック
      1 ヨネダ2000
      1 ライス田所
      1 ラバーガール
      1 ラバーガール飛永
      1 ラランド
      1 ラランド・ サーヤ
      1 レインボー池田
      1 ロケット団
      1 ロッチ・コカド
      1 ロングアイランド松原
      1 ロングコートダディ
      1 ロングコートダディ堂前
      1 ロンドンブーツ1号2号
      1 ロンドンブーツ1号2号・田村淳
      1 安田大サーカス・クロちゃん
      1 伊東先生
      1 横山やすし・西川きよし
      1 横山エンタツ・花菱アチャコ
      1 横山ホットブラザーズ
      1 岡田直子
      1 我が家・坪倉
      1 怪奇！YesどんぐりRPG
      1 海原はるか・かなた
      1 丸山礼
      1 鬼越トマホーク金ちゃん
      1 吉田裕
      1 宮下草薙・草薙
      1 宮川大助・花子
      1 玉置洋行
      1 錦鯉・長谷川
      1 銀シャリ鰻
      1 銀シャリ橋本
      1 恵俊彰
      1 桂吉弥
      1 桂春団治（初代）
      1 桂雀々
      1 桂二葉
      1 月亭八光
      1 幸せのトナリ飯塚
      1 江戸家小猫
      1 荒牧陽子
      1 今いくよ・くるよ
      1 紺野ぶるま
      1 佐久間一行
      1 鮫島幸恵
      1 三増紋之助
      1 三匹
      1 三遊亭円楽
      1 三遊亭金翁
      1 三遊亭好楽
      1 三遊亭小遊三
      1 山口智充
      1 山田七海
      1 守谷日和
      1 酒井くにお・とおる
      1 春風亭一之輔
      1 春風亭小朝
      1 小虎
      1 小堺一機
      1 松橋周太呂
      1 松尾陽介
      1 松本人志
      1 笑福亭鶴光
      1 衝撃デリバリー
      1 上方よしお・西川のりお
      1 上方柳次・柳太
      1 森田まりこ
      1 神宮寺しし丸
      1 神田伯山
      1 水谷千重子
      1 正司敏江・玲児
      1 清水啓之
      1 西川のりお・上方よしお
      1 青野敏行
      1 石塚英彦
      1 戦士
      1 浅香あき恵
      1 霜降り明星・粗品
      1 多和田上人
      1 太田芳伸
      1 太平サブロー・シロー
      1 大黒ケイイチ
      1 大自然
      1 大西ライオン
      1 大塚澪
      1 辰巳智之
      1 中田ダイマル・ラケット
      1 天狗
      1 天竺鼠
      1 渡辺直美
      1 土佐兄弟・卓也
      1 土佐兄弟・有輝
      1 島田一の介
      1 東03飯塚
      1 東京03豊本
      1 東京太・ゆめ子
      1 桃月庵白酒
      1 藤崎マーケット
      1 南海キャンディーズしずちゃん
      1 尼神インター
      1 尼神インター渚
      1 虹の黄昏
      1 入間国際宣言
      1 猫ひろし
      1 納言
      1 納言・薄幸
      1 博多大吉
      1 白桃ピーチよぴぴ
      1 爆笑問題・太田
      1 八幡カオル
      1 髭男爵
      1 品川庄司・庄司
      1 品川庄司・品川
      1 浜田雅功
      1 服部ひで子
      1 平成ノブシコブシ
      1 平野ノラ
      1 変人（原口あきまさ、ホリ、山本高広、ミラクルひかる）
      1 片倉ブリザード
      1 北陽・虻川
      1 夢路いとし・喜味こいし
      1 木村祐一
      1 野性爆弾
      1 野性爆弾ロッシー
      1 柳亭小痴楽
      1 立川志らく
      1 立川談笑
      1 緑川まり
      1 林家あずみ
      1 林家たい平
      1 林家菊丸
      1 林家正蔵
      1 林家木久扇
      1 隣人
      1 和牛・水田
      1 和牛・川西
      1 麒麟
```

チョコプラ売れとんなあ。。


### ランキングをよーく見てみよう

さて、これで終わりかというと…。怪しいところが何箇所か見つかります。

#### 空白のズレによる集計ミス

以下の2件をご覧下さい。

```
      1  ZAZY
      1 ぼる塾あんり/  おいでやす小田
```

お分かりいただけただろうか？スラッシュ区切り前後のスペースにイレギュラーがあるとこのように上手く集計されないことがあります。

ZAZYの部分は`「千鳥のクセがスゴいネタGP 新春SP」`で、ぼる塾あんりは`「下からノゾいてみた！」`でスラッシュ区切りが他と異なっています。

後者は見た目で分かりますが、前者はブラウザで見ても特段気づけず、テキストでコピーすると謎のスペースが出て来るというよく分からない現象が起きています。

`s; / ;\n;g`で行っていた置換について、スペースは1個に決め打ちしなければ良いので、`s; */ *;\n;g`と修正します。

#### 東京03豊本は正しく入っているが…

他にもあります。

```
      1 東03飯塚
      1 東京03豊本
```

東03…**コミケの出典エリア**かな？

`「ウチの子がお世話になってます」`にある単なる誤字なので、sedで直した上で集計しましょう。

<font style="color:#FFFFFF;">よく考えたら飯塚さんと豊本さんが同順かというと…ねえ。</font>

#### ＜出演者＞がランクインしている

最後に、ランキングに`1 ＜出演者＞`が含まれてしまっています。

他の番組には全くその記述が無いのに、`ゴッドタン 芸人マジ歌選手権`の下だけ演者が出てくる前に＜出演者＞があり拾ってしまいます。

ページ側の例外は個別に対処するしかありません。集計前に`grep -v`で弾いてあげましょう。

## 回答例

`cat a | sed -n "/NA_article_body/,/GAE_relatedNews/p" | sed -r "s;<br>|</p>;\n;g" | grep -vE "<|^ *$|:[0-9][0-9]"  | sed "s; ほか;;g; s; */ *;\n;g" | grep -v "＜出演者＞" | sed  "s;東03飯塚;東京03飯塚;g" | sort | uniq -c | sort -k1,1nr`

```
$ cat a | sed -n "/NA_article_body/,/GAE_relatedNews/p" | sed -r "s;<br>|</p>;\n;g" | grep -vE "<|^ *$|:[0-9][0-9]"  | sed "s; ほか;;g; s; */ *;\n;g" | grep -v "＜出演者＞" | sed  "s;東03飯塚;東京03飯塚;g" | sort | uniq -c | sort -k1,1nr
     15 チョコレートプラネット
     13 出川哲朗
     12 ニューヨーク
     12 マヂカルラブリー
     11 かまいたち
     11 ずん飯尾
     11 ぺこぱ
     11 アンガールズ田中
     11 サンドウィッチマン
     11 ヒコロヒー
     11 蛙亭
     11 内村光良
     10 いとうあさこ
     10 バカリズム
     10 バナナマン
     10 錦鯉
      9 空気階段
      9 平成ノブシコブシ吉村
      8 メイプル超合金カズレーザー
      8 劇団ひとり
      8 見取り図
      8 霜降り明星
      8 麒麟・川島
      7 3時のヒロイン
      7 ザ・マミィ
      7 ナインティナイン
      7 フワちゃん
      7 千鳥
      7 野性爆弾くっきー！
      7 有吉弘行
      6 EXIT
      6 おいでやす小田
      6 かが屋
      6 とにかく明るい安村
      6 ゆりやんレトリィバァ
      6 オードリー春日
      6 サバンナ高橋
      6 ナイツ
      6 ハナコ
      6 ロッチ
      6 阿佐ヶ谷姉妹
      6 銀シャリ
      6 四千頭身
      6 狩野英孝
      6 笑福亭鶴瓶
      5 オズワルド
      5 ジェラードン
      5 タイムマシーン3号
      5 ティモンディ
      5 ハライチ岩井
      5 ハリセンボン春菜
      5 バイきんぐ
      5 パンサー向井
      5 ミキ
      5 レインボー
      5 小島よしお
      5 陣内智則
      5 東京03
      5 爆笑問題
      4 TOKYO COOL
      4 あばれる君
      4 さらば青春の光
      4 さらば青春の光・森田
      4 すゑひろがりず
      4 わらふぢなるお
      4 アインシュタイン
      4 アルコ＆ピース
      4 インパルス板倉
      4 オードリー
      4 カミナリ
      4 キャイ～ン・ウド鈴木
      4 ココリコ田中
      4 ジャルジャル
      4 ジャングルポケット
      4 ハリウッドザコシショウ
      4 バイきんぐ小峠
      4 パンサー尾形
      4 フットボールアワー後藤
      4 ラランド・サーヤ
      4 レイザーラモンRG
      4 ロッチ中岡
      4 永野
      4 吉住
      4 宮下草薙
      4 宮川大輔
      4 今田耕司
      4 三四郎
      4 春風亭昇太
      4 松村邦洋
      4 清水ミチコ
      4 千原ジュニア
      4 霜降り明星せいや
      4 土田晃之
      4 島田珠代
      4 東京ホテイソン
      4 南海キャンディーズ山里
      4 明石家さんま
      4 友近
      3 3時のヒロイン福田
      3 ANZEN漫才みやぞん
      3 Aマッソ
      3 COWCOW
      3 Mr.シャチホコ
      3 ZAZY
      3 おぎやはぎ
      3 さまぁ～ず三村
      3 とろサーモン久保田
      3 どぶろっく
      3 ますだおかだ岡田
      3 みかん
      3 もう中学生
      3 アルコ＆ピース平子
      3 アンガールズ
      3 アンタッチャブル柴田
      3 イワイガワ・岩井ジョニ男
      3 オリエンタルラジオ藤森
      3 ケンドーコバヤシ
      3 シソンヌ
      3 シソンヌじろう
      3 トレンディエンジェル
      3 ドランクドラゴン塚地
      3 ネプチューン堀内
      3 ネルソンズ
      3 ハライチ
      3 ハライチ澤部
      3 バナナマン設楽
      3 ビビる大木
      3 ブラックマヨネーズ小杉
      3 ミルクボーイ
      3 ランジャタイ
      3 ロバート秋山
      3 伊集院光
      3 金の国
      3 原口あきまさ
      3 古賀シュウ
      3 沙羅
      3 小籔千豊
      3 神奈月
      3 千鳥・大悟
      3 大久保佳代子
      3 男性ブランコ
      3 中川家
      3 土佐兄弟
      3 東貴博
      3 東京03飯塚
      3 林家三平
      2 Aマッソ加納
      2 Everybody
      2 JP
      2 NON STYLE
      2 TATSUYA
      2 U字工事
      2 sa'Toshl
      2 あいかわい翔
      2 あしべ
      2 あんも直想子
      2 おいでやすこが
      2 おかずクラブ
      2 おぎやはぎ小木
      2 おぎやはぎ矢作
      2 おしんこきゅう藤原
      2 おぼん・こぼん
      2 きくりん
      2 きつね
      2 こにわ
      2 さまぁ～ず
      2 しずる
      2 すっちー
      2 そいつどいつ
      2 ななみなな
      2 ねんねん
      2 ぺよん潤
      2 ぼる塾
      2 ぼる塾・田辺
      2 ぼる塾あんり
      2 ぼる塾きりや
      2 まーな
      2 ますだおかだ
      2 まねだ聖子
      2 みはる
      2 むらせ
      2 やす子
      2 よしえつねお
      2 よゐこ濱口
      2 りんごちゃん
      2 アイデンティティ田島
      2 アイロンヘッド
      2 アインシュタイン稲田
      2 アンジャッシュ児嶋
      2 アンタッチャブル
      2 アンタッチャブル山崎
      2 イモトアヤコ
      2 インディアンス
      2 エルフ荒川
      2 オール阪神・巨人
      2 オジンオズボーン篠宮
      2 オダウエダ
      2 オットリー春日
      2 カンニング竹山
      2 ガリベンズ矢野
      2 ガンバレルーヤ
      2 コージー冨田
      2 コウテイ
      2 コロコロチキチキペッパーズ
      2 ゴジーラ久山
      2 サンシャイン池崎
      2 ジャッキーちゃん
      2 ジョーク東郷
      2 ジョイマン
      2 スギちゃん
      2 ゾフィー
      2 タカアンドトシ
      2 ダイアン
      2 ダイアン津田
      2 ダウンタウン
      2 ダンシング☆谷村
      2 チャボ＆飛鳶
      2 テツandトモ
      2 デコピン浜ちゃん
      2 トニーフランク
      2 トム・ブラウン
      2 トラチャン
      2 ナインティナイン岡村
      2 ノブ＆フッキー
      2 パーパー
      2 パニーニ
      2 パンサー
      2 ビューティーこくぶ
      2 プラス・マイナス兼光
      2 ホリ
      2 ミキ昴生
      2 ミラクルひかる
      2 モリタク！
      2 ラパルフェ都留
      2 ロバート
      2 ワタリ119
      2 一木ひろし
      2 横山アッチ（石川不遼）
      2 岡野陽一
      2 加島ちかえ
      2 加藤浩次
      2 河口こうへい
      2 花香よしあき
      2 蛾野正洋
      2 蛙亭イワクラ
      2 桂文枝
      2 桂文珍
      2 蛍原徹
      2 喉押さえマン
      2 紅チカコ
      2 今別府直之
      2 四千頭身・後藤
      2 四千頭身・石橋
      2 四千頭身・都築
      2 次長課長・河本
      2 酒井藍
      2 小坂なおみ
      2 小林ゆう
      2 松浦航大
      2 松浦真也
      2 笑い飯
      2 笑い飯・西田
      2 森三中
      2 杉野ひろし
      2 清水たぁー
      2 千鳥ノブ
      2 川畑泰史
      2 大納言光子
      2 中垣みな
      2 椿鬼奴
      2 天才ピアニストますみ
      2 天竺鼠・瀬下
      2 南海キャンディーズ
      2 南原清隆
      2 馬場園梓
      2 博多華丸・大吉
      2 八木良
      2 片桐仁
      2 木村たいぞう
      2 和牛
      2 翔子
      1 2丁拳銃・川谷
      1 3時のヒロイン・福田
      1 3時のヒロインかなで
      1 3時のヒロインゆめっち
      1 5GAP
      1 AMEMIYA
      1 FUJIWARA
      1 FUJIWARA藤本
      1 GAG
      1 Mr.オクレ
      1 NON STYLE井上
      1 R藤本
      1 TAIGA
      1 THE GREATEST HITS
      1 THIS IS パン
      1 TIM
      1 TKO木本
      1 Ｕ字工事
      1 Ｗエンジン
      1 あっぱれ婦人会
      1 うしろシティ阿諏訪
      1 うるとらブギーズ
      1 おかずクラブ・ オカリナ
      1 おばたのお兄さん
      1 かが屋・加賀
      1 かじがや卓哉
      1 かもめんたる
      1 ぐりんぴーす
      1 さくらだモンスター
      1 さまぁ～ず大竹
      1 しゃもじ
      1 じゅんいちダビッドソン
      1 すゑひろがりず三島
      1 ずん
      1 たつろう
      1 たむらけんじ
      1 たんぽぽ川村
      1 とりあえず夏海
      1 とろサーモン
      1 とんねるず
      1 どみっしゅ
      1 なすなかにし
      1 ななまがり
      1 ねこ屋敷
      1 ぱーてぃーちゃん
      1 ひょっこりはん
      1 ぴろき
      1 ぽんぽこ
      1 まんじゅう大帝国
      1 みなみかわ
      1 みんなのたかみち
      1 もりすけ
      1 もりやすバンバンビガロ
      1 やさしいズ
      1 ゆにばーす
      1 ゆめちゃん
      1 アイデンティティ
      1 アキナ
      1 アキナ山名
      1 アメリカザリガニ
      1 アルミカン
      1 アンガールズ山根
      1 インスタントジョンソン
      1 インポッシブル
      1 インポッシブルひるちゃん
      1 ウエスP
      1 ウエストランド
      1 エイトブリッジ
      1 エスファイブ
      1 エレキコミックやつい
      1 オードリー若林
      1 オオシロ大魔神
      1 オズワルド伊藤
      1 オドるキネマ
      1 カカロニ
      1 カベポスター
      1 キャイ～ン
      1 キュウ
      1 クールポコ。
      1 クマムシ
      1 クロスバー直撃
      1 ココリコ
      1 コットン
      1 コットン西村
      1 コマンダンテ
      1 コロコロチキチキペッパーズ・ナダル
      1 ゴリけん
      1 サバンナ
      1 サルベース
      1 ザ・ぼんち
      1 ザ・ドリフターズ
      1 ザ・マミィ酒井
      1 シマッシュレコード
      1 ジャングルポケット斉藤
      1 ジャングルポケット太田
      1 スクールゾーン
      1 スナフキンズ
      1 スパイク
      1 スパローズ大和
      1 スピードワゴン
      1 スピードワゴン井戸田
      1 セルライトスパ
      1 タイムマシーン3号・山本
      1 タモリ
      1 ダウンタウン浜田
      1 ダチョウ倶楽部
      1 ダチョウ倶楽部・寺門ジモン
      1 ダチョウ倶楽部・上島
      1 ダブルアート
      1 チェリー大作戦
      1 チカトプライド
      1 チキチキジョニー
      1 チャンス大城
      1 チュートリアル
      1 チョコンヌ
      1 チョコンヌ（チョコレートプラネット＆シソンヌ）
      1 デンジャラス・ノッチ
      1 デンジャラス安田
      1 トータルテンボス藤田
      1 トミーズ
      1 トム・ブラウンみちお
      1 トンツカタン
      1 ドランクドラゴン鈴木
      1 ナイツ塙
      1 ニッポンの社長
      1 ニュートンズ
      1 ネゴシックス
      1 ネプチューン
      1 ハイヒール
      1 ハナイチゴ
      1 ハナコ岡部
      1 ハナコ菊田
      1 ハマカーン
      1 ハリセンボン
      1 バイきんぐ西村
      1 バイク川崎バイク
      1 バッドナイス常田
      1 バッファロー吾郎A
      1 バナナマン日村
      1 バンビーノ
      1 パーパー・ほしのディスコ
      1 パックンマックン・パックン
      1 パペットマペット
      1 パルテノンモード
      1 パンクブーブー
      1 ビスケットブラザーズ
      1 フォーリンラブ　ほか
      1 フォーリンラブ・バービー
      1 フタリシズカ
      1 フルーツポンチ村上
      1 ブラゴーリ
      1 ブラックマヨネーズ
      1 プラス・マイナス岩橋
      1 ペナルティ・ヒデ
      1 ボンざわーるど
      1 マキタスポーツ
      1 マギー司郎
      1 マヂカルラブリー・野田クリスタル
      1 マツモトクラブ
      1 マリーマリー
      1 マリア・イーちゃん
      1 マリアのイーちゃん
      1 ミクミクサイダー
      1 ミサイルマン岩部
      1 ミルクボーイ駒場
      1 メイプル超合金・安藤なつ
      1 メンバー
      1 モグライダー
      1 モンスターエンジン
      1 ユウキロック
      1 ヨネダ2000
      1 ライス田所
      1 ラバーガール
      1 ラバーガール飛永
      1 ラランド
      1 ラランド・ サーヤ
      1 レインボー池田
      1 ロケット団
      1 ロッチ・コカド
      1 ロングアイランド松原
      1 ロングコートダディ
      1 ロングコートダディ堂前
      1 ロンドンブーツ1号2号
      1 ロンドンブーツ1号2号・田村淳
      1 安田大サーカス・クロちゃん
      1 伊東先生
      1 横山やすし・西川きよし
      1 横山エンタツ・花菱アチャコ
      1 横山ホットブラザーズ
      1 岡田直子
      1 我が家・坪倉
      1 怪奇！YesどんぐりRPG
      1 海原はるか・かなた
      1 丸山礼
      1 鬼越トマホーク金ちゃん
      1 吉田裕
      1 宮下草薙・草薙
      1 宮川大助・花子
      1 玉置洋行
      1 錦鯉・長谷川
      1 銀シャリ鰻
      1 銀シャリ橋本
      1 恵俊彰
      1 桂吉弥
      1 桂春団治（初代）
      1 桂雀々
      1 桂二葉
      1 月亭八光
      1 幸せのトナリ飯塚
      1 江戸家小猫
      1 荒牧陽子
      1 今いくよ・くるよ
      1 紺野ぶるま
      1 佐久間一行
      1 鮫島幸恵
      1 三増紋之助
      1 三匹
      1 三遊亭円楽
      1 三遊亭金翁
      1 三遊亭好楽
      1 三遊亭小遊三
      1 山口智充
      1 山田七海
      1 守谷日和
      1 酒井くにお・とおる
      1 春風亭一之輔
      1 春風亭小朝
      1 小虎
      1 小堺一機
      1 松橋周太呂
      1 松尾陽介
      1 松本人志
      1 笑福亭鶴光
      1 衝撃デリバリー
      1 上方よしお・西川のりお
      1 上方柳次・柳太
      1 森田まりこ
      1 神宮寺しし丸
      1 神田伯山
      1 水谷千重子
      1 正司敏江・玲児
      1 清水啓之
      1 西川のりお・上方よしお
      1 青野敏行
      1 石塚英彦
      1 戦士
      1 浅香あき恵
      1 霜降り明星・粗品
      1 多和田上人
      1 太田芳伸
      1 太平サブロー・シロー
      1 大黒ケイイチ
      1 大自然
      1 大西ライオン
      1 大塚澪
      1 辰巳智之
      1 中田ダイマル・ラケット
      1 天狗
      1 天竺鼠
      1 渡辺直美
      1 土佐兄弟・卓也
      1 土佐兄弟・有輝
      1 島田一の介
      1 東京03豊本
      1 東京太・ゆめ子
      1 桃月庵白酒
      1 藤崎マーケット
      1 南海キャンディーズしずちゃん
      1 尼神インター
      1 尼神インター渚
      1 虹の黄昏
      1 入間国際宣言
      1 猫ひろし
      1 納言
      1 納言・薄幸
      1 博多大吉
      1 白桃ピーチよぴぴ
      1 爆笑問題・太田
      1 八幡カオル
      1 髭男爵
      1 品川庄司・庄司
      1 品川庄司・品川
      1 浜田雅功
      1 服部ひで子
      1 平成ノブシコブシ
      1 平野ノラ
      1 変人（原口あきまさ、ホリ、山本高広、ミラクルひかる）
      1 片倉ブリザード
      1 北陽・虻川
      1 夢路いとし・喜味こいし
      1 木村祐一
      1 野性爆弾
      1 野性爆弾ロッシー
      1 柳亭小痴楽
      1 立川志らく
      1 立川談笑
      1 緑川まり
      1 林家あずみ
      1 林家たい平
      1 林家菊丸
      1 林家正蔵
      1 林家木久扇
      1 隣人
      1 和牛・水田
      1 和牛・川西
      1 麒麟
```

1/2の「ものまね芸人151人がガチで選んだ いま本当にスゴい！ものまねランキング2022」とその予告番組があるせいで、大量のものまね芸人が得票数2の部分に固まっているという。

あと、芸人が大量に出ているはずの有吉の壁が「有吉弘行　ほか」となっているのだいぶ問題ある…w

## ○○する芸能ちゃんブロック

企画のシンプルさも然ることながら、他の動画と比べて冒頭のつかみが早くてとても良いです。

かなり万人向けの動画なのですが、日髙さんに見慣れてもらう必要があるのでカレンダー終盤に持ってきました。

<div class="youtube">
<iframe width="560" height="315" src="https://www.youtube.com/embed/7faDZOjSjF4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>

「赤挙げて！」

「待て待て待ておい、今旗持ってへんねんからどっちの手挙げたらええか分からんがな」

「そらお前赤言うてんやからさ、左やろ」

「思想強っ！」

<style>
.youtube {
  position: relative;
  width: 100%;
  padding-top: 56.25%;
}
.youtube iframe {
  position: absolute;
  top: 0;
  right: 0;
  width: 100% !important;
  height: 100% !important;
}
</style>